{"ast":null,"code":"var _jsxFileName = \"/Users/julianzapata-hall/Documents/Renamed/my-react-website/client/src/EditBoard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Chessboard from 'chessboardjsx';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { Chess, validateFen } from 'chess.js'; // Import chess.js for FEN validation\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditBoard = ({\n  in_fen\n}) => {\n  _s();\n  const [fen, setFen] = useState(in_fen);\n  const [orientation, setOrientation] = useState('white');\n  const navigate = useNavigate(); // Using useNavigate for navigation\n\n  // Chess instance for validation\n  const chess = new Chess();\n  useEffect(() => {\n    setFen(in_fen);\n  }, [in_fen]);\n  const handleFlipBoard = () => {\n    setOrientation(orientation === 'white' ? 'black' : 'white');\n  };\n  const toggleTurn = () => {\n    const parts = fen.split(' ');\n    parts[1] = parts[1] === 'w' ? 'b' : 'w';\n    setFen(parts.join(' '));\n  };\n  const changeCastling = castling => {\n    const parts = fen.split(' ');\n    parts[2] = castling;\n    setFen(parts.join(' '));\n  };\n  const handleDrop = ({\n    sourceSquare,\n    targetSquare,\n    piece\n  }) => {\n    if (!sourceSquare || !targetSquare || !piece) {\n      console.error('Missing drop data');\n      return;\n    }\n    let move = {\n      from: sourceSquare,\n      to: targetSquare,\n      promotion: 'q'\n    }; // Always promote to a queen for simplicity\n    let moveResult = chess.move(move);\n    if (moveResult === null) return; // illegal move\n    setFen(chess.fen());\n  };\n  const handleStartingPosition = () => {\n    setFen('rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1');\n  };\n  const handleClearBoard = () => {\n    setFen('8/8/8/8/8/8/8/8 w - - 0 1');\n  };\n  const isValidFen = () => {\n    return chess.validateFen(fen).valid;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleFlipBoard,\n      children: \"Flip Board\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: toggleTurn,\n      children: \"Toggle Turn\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => changeCastling('KQ'),\n      children: \"Enable White Castling\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => changeCastling('kq'),\n      children: \"Enable Black Castling\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => changeCastling('KQkq'),\n      children: \"Enable All Castling\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => changeCastling('-'),\n      children: \"Disable Castling\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Chessboard, {\n      position: fen,\n      onDrop: handleDrop,\n      width: 340,\n      sparePieces: true,\n      orientation: orientation\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleStartingPosition,\n        children: \"Starting Position\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleClearBoard,\n        children: \"Clear Board\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), isValidFen() ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/analysis-board', {\n          state: {\n            fen\n          }\n        }),\n        children: \"Close Edit and Analyze\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: 'red'\n        },\n        children: \"Invalid FEN, please correct the position.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_s(EditBoard, \"/ZgE2pl18TJ7hasBKxHtkL+jAPw=\", false, function () {\n  return [useNavigate];\n});\n_c = EditBoard;\nexport default EditBoard;\nvar _c;\n$RefreshReg$(_c, \"EditBoard\");","map":{"version":3,"names":["React","useState","useEffect","Chessboard","Link","useNavigate","Chess","validateFen","jsxDEV","_jsxDEV","EditBoard","in_fen","_s","fen","setFen","orientation","setOrientation","navigate","chess","handleFlipBoard","toggleTurn","parts","split","join","changeCastling","castling","handleDrop","sourceSquare","targetSquare","piece","console","error","move","from","to","promotion","moveResult","handleStartingPosition","handleClearBoard","isValidFen","valid","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","position","onDrop","width","sparePieces","state","style","color","_c","$RefreshReg$"],"sources":["/Users/julianzapata-hall/Documents/Renamed/my-react-website/client/src/EditBoard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Chessboard from 'chessboardjsx';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { Chess, validateFen } from 'chess.js'; // Import chess.js for FEN validation\n\nconst EditBoard = ({ in_fen }) => {\n  const [fen, setFen] = useState(in_fen);\n  const [orientation, setOrientation] = useState('white');\n  const navigate = useNavigate(); // Using useNavigate for navigation\n\n  // Chess instance for validation\n  const chess = new Chess();\n\n  useEffect(() => {\n    setFen(in_fen);\n  }, [in_fen]);\n\n  const handleFlipBoard = () => {\n    setOrientation(orientation === 'white' ? 'black' : 'white');\n  };\n\n  const toggleTurn = () => {\n    const parts = fen.split(' ');\n    parts[1] = parts[1] === 'w' ? 'b' : 'w';\n    setFen(parts.join(' '));\n  };\n\n  const changeCastling = (castling) => {\n    const parts = fen.split(' ');\n    parts[2] = castling;\n    setFen(parts.join(' '));\n  };\n\n  const handleDrop = ({ sourceSquare, targetSquare, piece }) => {\n    if (!sourceSquare || !targetSquare || !piece) {\n      console.error('Missing drop data');\n      return;\n    }\n    let move = { from: sourceSquare, to: targetSquare, promotion: 'q' }; // Always promote to a queen for simplicity\n    let moveResult = chess.move(move);\n    if (moveResult === null) return; // illegal move\n    setFen(chess.fen());\n  };\n\n  const handleStartingPosition = () => {\n    setFen('rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1');\n  };\n\n  const handleClearBoard = () => {\n    setFen('8/8/8/8/8/8/8/8 w - - 0 1');\n  };\n\n  const isValidFen = () => {\n    return chess.validateFen(fen).valid;\n  };\n\n  return (\n    <div>\n      <button onClick={handleFlipBoard}>Flip Board</button>\n      <button onClick={toggleTurn}>Toggle Turn</button>\n      <button onClick={() => changeCastling('KQ')}>Enable White Castling</button>\n      <button onClick={() => changeCastling('kq')}>Enable Black Castling</button>\n      <button onClick={() => changeCastling('KQkq')}>Enable All Castling</button>\n      <button onClick={() => changeCastling('-')}>Disable Castling</button>\n\n      <Chessboard\n        position={fen}\n        onDrop={handleDrop}\n        width={340}\n        sparePieces={true}\n        orientation={orientation}\n      />\n\n      <div>\n        <button onClick={handleStartingPosition}>Starting Position</button>\n        <button onClick={handleClearBoard}>Clear Board</button>\n        {isValidFen() ? (\n          <button onClick={() => navigate('/analysis-board', { state: { fen } })}>Close Edit and Analyze</button>\n        ) : (\n          <p style={{ color: 'red' }}>Invalid FEN, please correct the position.</p>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default EditBoard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}